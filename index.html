<!DOCTYPE html>
<html lang="pt-PT">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Escola B√°sica de Manhente</title>

<link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
body{
  margin:0;
  font-family:'Montserrat',sans-serif;
  background:#f0fdf4;
  color:#1f2933;
}

/* HEADER */
header{
  background:linear-gradient(135deg,#166534,#15803d);
  color:white;
  padding:30px 20px;
}

.header-content{
  max-width:1100px;
  margin:auto;
  display:flex;
  align-items:center;
  gap:20px;
}

.header-content img{
  width:80px;
  background:white;
  border-radius:50%;
  padding:6px;
}

/* MAIN */
main{
  max-width:1100px;
  margin:40px auto;
  padding:0 20px;
}

.grid{
  display:grid;
  grid-template-columns:2fr 1fr;
  gap:30px;
}

section{
  background:white;
  border-radius:16px;
  padding:25px;
  box-shadow:0 6px 18px rgba(0,0,0,.08);
}

/* SOBRE ‚Äì Ler mais (anima√ß√£o suave) */
.sobre-intro{
  font-size:1.05em;
  line-height:1.6;
}

.ler-mais{
  margin-top:6px;
  padding:10px 14px;
  border-radius:999px;
  border:1px solid #bbf7d0;
  background:#dcfce7;
  color:#166534;
  font-weight:700;
  cursor:pointer;
  transition:.2s;
}

.ler-mais:hover{
  background:#bbf7d0;
  transform:translateY(-1px);
}

.sobre-detalhe{
  overflow:hidden;
  max-height:0;
  opacity:0;
  transition:max-height .5s ease, opacity .4s ease;
  margin-top:10px;
}

.sobre-detalhe.aberto{
  max-height:1200px; /* suficiente para o conte√∫do */
  opacity:1;
}

.sobre-caixa{
  margin:10px 0 14px;
  padding:15px;
  background:#f0fdf4;
  border-left:4px solid #16a34a;
  border-radius:8px;
}

.sobre-lista{
  columns:2;
  margin-top:8px;
}

@media (max-width:560px){
  .sobre-lista{columns:1;}
}

.sobre-separador{
  margin:25px 0;
  border:none;
  border-top:1px solid #e5e7eb;
}

/* TEMPO MINI */
#tempo-mini{
  background:linear-gradient(135deg,#2563eb,#1e40af);
  color:white;
  border-radius:16px;
  padding:20px;
  text-align:center;
}

#temp{
  font-size:2.4em;
  font-weight:700;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
}

#icone-tempo{font-size:1.2em;}
#estado,#fonte{font-size:.9em;margin-top:6px;}

#tempo-mini a{
  display:inline-block;
  margin-top:10px;
  color:white;
  text-decoration:underline;
  font-size:.9em;
}

/* BOT√ïES */
.botoes{
  margin-top:25px;
  display:grid;
  gap:12px;
}

.botao{
  padding:14px;
  border-radius:12px;
  text-decoration:none;
  color:white;
  font-weight:600;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:10px;
  transition:.2s;
}

.botao i{font-size:1.1em;}
.botao:hover{transform:translateY(-3px);}

.inovar{background:linear-gradient(135deg,#16a34a,#166534);}
.consulta{background:linear-gradient(135deg,#22c55e,#16a34a);}
.sige{background:linear-gradient(135deg,#4ade80,#15803d);}
.aeaf{background:linear-gradient(135deg,#22c55e,#14532d);}

.icon-aeaf{
  height:22px;
  background:white;
  border-radius:6px;
  padding:2px 6px;
}

/* REDES */
#redes{
  margin-top:40px;
  text-align:center;
}

#redes h3{color:#166534;}

.redes-links{
  display:flex;
  justify-content:center;
  flex-wrap:wrap;
  gap:12px;
  margin-top:12px;
}

.rede{
  display:flex;
  align-items:center;
  gap:10px;
  padding:10px 14px;
  border-radius:999px;
  background:#dcfce7;
  color:#166534;
  text-decoration:none;
  font-weight:600;
  transition:.2s;
}

.rede i{font-size:1.1em;}

.rede:hover{
  background:#bbf7d0;
  transform:translateY(-2px);
}

/* FOOTER */
footer{
  margin:40px 0 20px;
  text-align:center;
}

footer img{max-width:260px;}
</style>
</head>

<body>

<header>
  <div class="header-content">
    <img src="logo-eb-manhente.png" alt="EB de Manhente">
    <div>
      <h1>Escola B√°sica de Manhente</h1>
      <p>Barcelos</p>
    </div>
  </div>
</header>

<main>

<div class="grid">

<section>
  <h2>Sobre a Escola</h2>

  <p class="sobre-intro">
    A <strong>Escola B√°sica de Manhente</strong> assegura a educa√ß√£o do
    <strong>1.¬∫ ao 9.¬∫ ano</strong>, integrando o
    <strong>Agrupamento de Escolas Alcaides de Faria</strong>.
  </p>

  <p class="sobre-intro">
    Acolhe alunos do <strong>1.¬∫, 2.¬∫ e 3.¬∫ ciclos</strong>, garantindo a continuidade
    do percurso educativo num √∫nico espa√ßo.
  </p>

  <button class="ler-mais" id="btn-ler-mais" type="button" aria-expanded="false" aria-controls="sobre-detalhe">
    Ler mais
  </button>

  <div id="sobre-detalhe" class="sobre-detalhe" aria-hidden="true">
    <div class="sobre-caixa">
      <strong>Localiza√ß√£o e comunidade educativa</strong><br>
      Situada na freguesia de <strong>Manhente</strong>, no concelho de <strong>Barcelos</strong>,
      a EB de Manhente serve uma comunidade educativa alargada.
    </div>

    <p>Recebe alunos das freguesias de:</p>

    <ul class="sobre-lista">
      <li>Manhente</li>
      <li>Galegos Santa Maria</li>
      <li>Galegos S√£o Martinho</li>
      <li>Ucha</li>
      <li>Areias de S√£o Vicente</li>
      <li>Lama</li>
      <li>Oliveira</li>
    </ul>

    <p style="margin-top:15px;">
      Em estreita articula√ß√£o com as fam√≠lias e parceiros educativos,
      a escola promove uma <strong>educa√ß√£o inclusiva</strong>,
      orientada para o <strong>sucesso escolar</strong> e para o
      <strong>desenvolvimento integral dos alunos</strong>.
    </p>
  </div>

  <hr class="sobre-separador">

  <p>
    <strong>üìç Morada:</strong><br>
    Praceta Manuel Maria Barbosa du Bocage
  </p>

  <p>
    <strong>üìû Telefone:</strong> 253 849 410<br>
    <strong>‚úâÔ∏è Email:</strong> geral@aeaf.edu.pt
  </p>
</section>

<div>

  <div id="tempo-mini">
    <div id="temp">
      <span id="icone-tempo">‚õÖ</span>
      <span id="valor-temp">‚Äî ¬∞C</span>
    </div>
    <div id="estado">A carregar‚Ä¶</div>
    <div id="fonte"></div>
    <a href="tempo.html">Ver p√°gina do tempo completo</a>
  </div>

  <div class="botoes">
    <a class="botao inovar"
       href="https://inovar.aeaf.edu.pt/inovaralunos/Inicial.wgx"
       target="_blank" rel="noopener">
      <i class="fa-solid fa-book"></i> INOVAR ‚Äì Sum√°rios
    </a>

    <a class="botao consulta"
       href="https://inovar.aeaf.edu.pt/inovarconsulta/app/index.html#/login"
       target="_blank" rel="noopener">
      <i class="fa-solid fa-user-check"></i> INOVAR Consulta
    </a>

    <a class="botao sige"
       href="https://inovar.aeaf.edu.pt/inovarsige/"
       target="_blank" rel="noopener">
      <i class="fa-solid fa-credit-card"></i> INOVAR SIGE ‚Äì Cart√£o
    </a>

    <a class="botao aeaf"
       href="https://aeaf.edu.pt"
       target="_blank" rel="noopener">
      <img src="logoESAF-300x200.jpg" class="icon-aeaf" alt="AEAF">
      Agrupamento AEAF
    </a>
  </div>

</div>
</div>

<div id="redes">
  <h3>Redes Sociais</h3>
  <div class="redes-links">
    <a class="rede" href="https://www.facebook.com/profile.php?id=100057106044171" target="_blank" rel="noopener">
      <i class="fa-brands fa-facebook-f"></i> Facebook Escola
    </a>
    <a class="rede" href="https://www.facebook.com/bibliotecas.agrupamentodemanhente/" target="_blank" rel="noopener">
      <i class="fa-brands fa-facebook"></i> Facebook Biblioteca
    </a>
    <a class="rede" href="https://www.instagram.com/bibliotecademanhente/" target="_blank" rel="noopener">
      <i class="fa-brands fa-instagram"></i> Instagram
    </a>
    <a class="rede" href="https://www.tiktok.com/@biblioteca.manhente" target="_blank" rel="noopener">
      <i class="fa-brands fa-tiktok"></i> TikTok
    </a>
  </div>
</div>

</main>

<footer>
  <img src="uma_esc_vida.png" alt="Uma Escola Para a Vida">
</footer>

<script>
/* =========================
   LER MAIS / LER MENOS
   (anima√ß√£o suave + scroll)
   ========================= */
const btn = document.getElementById("btn-ler-mais");
const detalhe = document.getElementById("sobre-detalhe");

if (btn && detalhe) {
  btn.addEventListener("click", () => {
    const aberto = detalhe.classList.contains("aberto");

    detalhe.classList.toggle("aberto");
    btn.textContent = aberto ? "Ler mais" : "Ler menos";
    btn.setAttribute("aria-expanded", String(!aberto));
    detalhe.setAttribute("aria-hidden", String(aberto));

    // quando abre, faz scroll suave para o in√≠cio do bloco
    if (!aberto) {
      setTimeout(() => {
        detalhe.scrollIntoView({ behavior: "smooth", block: "start" });
      }, 180);
    }
  });
}

/* =========================
   TEMPO (WU + Open-Meteo)
   ========================= */
const apiKey="cc9cbc0aeacb47899cbc0aeacbc7891b";

function format1(n){
  return Number(n).toFixed(1);
}

// √çcones (Open-Meteo weathercode)
function iconeTempo(code){
  if(code === 0) return "‚òÄÔ∏è";
  if([1,2].includes(code)) return "üå§Ô∏è";
  if(code === 3) return "‚òÅÔ∏è";
  if([45,48].includes(code)) return "üå´Ô∏è";
  if([51,53,55,61,63,65].includes(code)) return "üåßÔ∏è";
  if([66,67].includes(code)) return "üåßÔ∏è‚ùÑÔ∏è";
  if([71,73,75,77].includes(code)) return "‚ùÑÔ∏è";
  if([80,81,82].includes(code)) return "üå¶Ô∏è";
  if([95,96,99].includes(code)) return "‚õàÔ∏è";
  return "üå°Ô∏è";
}

function atualizar(temp, hum, vento, fonte, icone){
  document.getElementById("valor-temp").innerText = format1(temp) + " ¬∞C";
  document.getElementById("icone-tempo").innerText = icone || "üå°Ô∏è";
  document.getElementById("estado").innerText =
    "Humidade: " + hum + " ¬∑ Vento: " + format1(vento) + " km/h";
  document.getElementById("fonte").innerText = "Fonte: " + fonte;
}

// 1) Buscar √≠cone (estado do tempo) no Open-Meteo
let iconeAtual = "üå°Ô∏è";
const iconePromise = fetch(
  "https://api.open-meteo.com/v1/forecast?latitude=41.5388&longitude=-8.6151&current_weather=true&timezone=Europe/Lisbon"
)
.then(r => r.json())
.then(d => { iconeAtual = iconeTempo(d.current_weather.weathercode); })
.catch(() => { iconeAtual = "üå°Ô∏è"; });

// 2) Buscar dados da esta√ß√£o no WU (temperatura real)
Promise.all([iconePromise])
.then(() => {
  return fetch(`https://api.weather.com/v2/pws/observations/current?stationId=IMANHE1&format=json&units=m&apiKey=${apiKey}`);
})
.then(r => r.json())
.then(d => {
  if(!d.observations) throw "offline";
  const o = d.observations[0];

  atualizar(
    o.metric.temp,
    o.humidity + "%",
    o.metric.windSpeed,
    "Esta√ß√£o da escola",
    iconeAtual
  );
})
.catch(() => {
  // Fallback total: tudo Open-Meteo (inclui √≠cone)
  fetch("https://api.open-meteo.com/v1/forecast?latitude=41.5388&longitude=-8.6151&current_weather=true&timezone=Europe/Lisbon")
  .then(r => r.json())
  .then(d => {
    atualizar(
      d.current_weather.temperature,
      "‚Äî",
      d.current_weather.windspeed,
      "Modelo meteorol√≥gico",
      iconeTempo(d.current_weather.weathercode)
    );
  })
  .catch(() => {
    document.getElementById("valor-temp").innerText = "‚Äî ¬∞C";
    document.getElementById("icone-tempo").innerText = "üå°Ô∏è";
    document.getElementById("estado").innerText = "Dados indispon√≠veis";
    document.getElementById("fonte").innerText = "";
  });
});
</script>

</body>
</html>
